var U1A1,__bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};U1A1=function(a){function b(){this.repeat=__bind(this.repeat,this),this.showPhrase=__bind(this.showPhrase,this),this.nextEvaluation=__bind(this.nextEvaluation,this),this.finishEvaluation=__bind(this.finishEvaluation,this),this.evaluateAnswer=__bind(this.evaluateAnswer,this),this.initEvaluation=__bind(this.initEvaluation,this);var a,c;a=[{id:"head",src:"pleca1.png"},{id:"c1",src:"circle1.png"},{id:"c2",src:"circle2.png"},{id:"teacher",src:"prop_bg.png"},{id:"repeat",src:"repeat-btn.png"},{id:"animals1",src:"animals.png"},{id:"animals2",src:"animals.png"},{id:"art1",src:"art.png"},{id:"art2",src:"art.png"},{id:"cellphone1",src:"cellphone.png"},{id:"cellphone2",src:"cellphone.png"},{id:"drink1",src:"drink.png"},{id:"drink2",src:"drink.png"},{id:"fish1",src:"fish.png"},{id:"fish2",src:"fish.png"},{id:"line1",src:"line.png"},{id:"line2",src:"line.png"},{id:"pictures1",src:"pictures.png"},{id:"pictures2",src:"pictures.png"},{id:"run1",src:"run.png"},{id:"run2",src:"run.png"},{id:"trash1",src:"trash.png"},{id:"trash2",src:"trash.png"}],c=[{src:"sounds/TU3_U1_A1_instructions.mp3",id:"instructions"},{src:"sounds/TU3_U1_A1_dontTouch.mp3",id:"sart"},{src:"sounds/TU3_U1_A1_dontTakePictures.mp3",id:"spictures"},{src:"sounds/TU3_U1_A1_dontFeed.mp3",id:"sanimals"},{src:"sounds/TU3_U1_A1_dontCut.mp3",id:"sline"},{src:"sounds/TU3_U1_A1_dontEat.mp3",id:"sdrink"},{src:"sounds/TU3_U1_A1_dontScare.mp3",id:"sfish"},{src:"sounds/TU3_U1_A1_dontUseCell.mp3",id:"scellphone"},{src:"sounds/TU3_U1_A1_dontThrow.mp3",id:"strash"},{src:"sounds/TU3_U1_A1_dontRun.mp3",id:"srun"},{src:"sounds/wrong.mp3",id:"wrong"},{src:"sounds/good.mp3",id:"good"}],this.game={answers:[{id:"animals",a:!1},{id:"art",a:!1},{id:"cellphone",a:!1},{id:"drink",a:!1},{id:"fish",a:!1},{id:"line",a:!1},{id:"pictures",a:!1},{id:"run",a:!1},{id:"trash",a:!1}]},b.__super__.constructor.call(this,null,a,c)}return __extends(b,a),b.prototype.setStage=function(){var a,c,d,e;for(b.__super__.setStage.apply(this,arguments),this.answers=this.game.answers.slice(0),e=this.answers,c=0,d=e.length;d>c;c++)a=e[c],a.a=!1;return this.insertBitmap("header","head",stageSize.w/2,0,"tc"),this.insertInstructions("instructions","Listen and click on the correct picture.",40,100),this.insertBitmap("teacher","teacher",stageSize.w/2,124,"tc"),this.insertBitmap("repeat","repeat",stageSize.w/2,310,"tc"),this.insertSprite("choose1",["animals1","art1","cellphone1","drink1","fish1","line1","pictures1","run1","trash1"],{animals:0,art:1,cellphone:2,drink:3,fish:4,line:5,pictures:6,run:7,trash:8},285,452,"mc"),this.insertSprite("choose2",["animals2","art2","cellphone2","drink2","fish2","line2","pictures2","run2","trash2"],{animals:0,art:1,cellphone:2,drink:3,fish:4,line:5,pictures:6,run:7,trash:8},520,452,"mc"),this.addToMain(new Score("score",this.preload.getResult("c1"),this.preload.getResult("c2"),20,500,9,0)),this.library.score.txtCount.color="#bfd951",this.library.score.txtTotal.color="#ff9933",this.introEvaluation()},b.prototype.introEvaluation=function(){return b.__super__.introEvaluation.apply(this,arguments),this.library.choose1.alpha=0,this.library.choose1.scaleX=this.library.choose1.scaleY=.3,this.library.choose2.alpha=0,this.library.choose2.scaleX=this.library.choose2.scaleY=.3,TweenLite.from(this.library.header,1,{y:-this.library.header.height}),TweenLite.from(this.library.instructions,1,{alpha:0,x:0,delay:.5}),TweenLite.from(this.library.teacher,1,{alpha:0,y:this.library.teacher.y+50,delay:1}),TweenLite.from(this.library.repeat,1,{alpha:0,y:this.library.repeat.y+50,delay:1,onComplete:this.playInstructions,onCompleteParams:[this]})},b.prototype.initEvaluation=function(){return b.__super__.initEvaluation.apply(this,arguments),this.showPhrase(),this.library.choose1.addEventListener("click",this.evaluateAnswer),this.library.choose2.addEventListener("click",this.evaluateAnswer),this.library.repeat.addEventListener("click",this.repeat)},b.prototype.evaluateAnswer=function(a){var b;return this.answer=a.target,b=this.answers.where({id:this.phrase.id}),b[0].a=!0,this.phrase.id===this.answer.currentAnimation?(createjs.Sound.play("good"),this.library.score.plusOne(),this.library.choose1.removeEventListener("click",this.evaluateAnswer),this.library.choose2.removeEventListener("click",this.evaluateAnswer)):this.warning(),setTimeout(this.finishEvaluation,1e3)},b.prototype.finishEvaluation=function(){return TweenMax.to([this.library.choose1,this.library.choose2],1,{alpha:0,scaleX:.3,scaleY:.3,ease:Elastic.easeOut,onComplete:this.nextEvaluation})},b.prototype.nextEvaluation=function(){return this.index++,this.index<this.answers.length?this.showPhrase():this.finish()},b.prototype.showPhrase=function(){var a,b,c,d;return d=Math.random()>.5?1:2,b=1===d?2:1,this.phrase=this.getPhrase(),c=this.answers.filter(function(a){return function(b){return b.id!==a.phrase.id}}(this)),a=Math.floor(Math.random()*c.length),console.log(this.phrase.id,c[a].id),this.library["choose"+d].gotoAndStop(this.phrase.id),this.library["choose"+b].gotoAndStop(c[a].id),console.log("s"+this.phrase.id),createjs.Sound.play("s"+this.phrase.id),this.library.choose1.addEventListener("click",this.evaluateAnswer),this.library.choose2.addEventListener("click",this.evaluateAnswer),TweenMax.to([this.library.choose1,this.library.choose2],1,{alpha:1,scaleX:1,scaleY:1,ease:Elastic.easeOut})},b.prototype.getPhrase=function(){var a,b;return b=this.answers.filter(function(a){return a.a===!1}),a=Math.floor(Math.random()*b.length),b[a]},b.prototype.repeat=function(){return createjs.Sound.stop(),createjs.Sound.play("s"+this.phrase.id)},b.prototype.shuffle=function(a){var b,c,d,e,f,g;for(g=[],b=d=e=a.length;1>=e?1>=d:d>=1;b=1>=e?++d:--d)c=Math.floor(Math.random()*(b+1)),g.push((f=[a[c],a[b]],a[b]=f[0],a[c]=f[1],f));return g},b.prototype.blink=function(a,b){return null==b&&(b=!0),TweenMax.killTweensOf(a),a.alpha=1,b?TweenMax.to(a,.5,{alpha:.5,repeat:-1,yoyo:!0}):void 0},b.prototype.finish=function(){return TweenLite.to(this.library.teacher,1,{alpha:0,y:this.library.teacher.y+50,delay:.1}),TweenLite.to(this.library.repeat,1,{alpha:0,y:this.library.repeat.y+50,delay:.1}),b.__super__.finish.apply(this,arguments)},window.U1A1=b,b}(Oda);